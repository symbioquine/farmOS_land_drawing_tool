(self.webpackChunkfarmOS_land_drawing_tool=self.webpackChunkfarmOS_land_drawing_tool||[]).push([[808],{1808:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>Et});var n,o=r(3068),i=r(3381),s=r(8204),a=r(8795),h=r(1915),u=r(3002),l=(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});function f(t){for(var e=[],r=0,n=t.length;r<n;++r)e.push(t[r].clone());return e}const p=function(t){function e(e){var r=t.call(this)||this;return r.geometries_=e||null,r.changeEventsKeys_=[],r.listenGeometriesChange_(),r}return l(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(u.bN),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push((0,u.oL)(this.geometries_[t],i.Z.CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,n){if(n<(0,h.qf)(this.getExtent(),t,e))return n;for(var o=this.geometries_,i=0,s=o.length;i<s;++i)n=o[i].closestPointXY(t,e,r,n);return n},e.prototype.containsXY=function(t,e){for(var r=this.geometries_,n=0,o=r.length;n<o;++n)if(r[n].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){(0,h.YN)(t);for(var e=this.geometries_,r=0,n=e.length;r<n;++r)(0,h.l7)(t,e[r].getExtent());return t},e.prototype.getGeometries=function(){return f(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,r=0,n=e.length;r<n;++r)e[r].getType()===this.getType()?t=t.concat(e[r].getGeometriesArrayRecursive()):t.push(e[r]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var r=[],n=this.geometries_,o=!1,i=0,s=n.length;i<s;++i){var a=n[i],h=a.getSimplifiedGeometry(t);r.push(h),h!==a&&(o=!0)}if(o){var u=new e(null);return u.setGeometriesArray(r),u}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return a.Z.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,r=0,n=e.length;r<n;++r)if(e[r].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var r=this.geometries_,n=0,o=r.length;n<o;++n)r[n].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,r){var n=r;n||(n=(0,h.qg)(this.getExtent()));for(var o=this.geometries_,i=0,s=o.length;i<s;++i)o[i].scale(t,e,n);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(f(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,r=0,n=e.length;r<n;++r)e[r].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var r=this.geometries_,n=0,o=r.length;n<o;++n)r[n].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(s.Z);var c=r(3696),d=r(2538),y=r(1882);function g(t,e,r,n,o,i,s){var a,h=t[e],u=t[e+1],l=t[r]-h,f=t[r+1]-u;if(0===l&&0===f)a=e;else{var p=((o-h)*l+(i-u)*f)/(l*l+f*f);if(p>1)a=r;else{if(p>0){for(var c=0;c<n;++c)s[c]=(0,y.t7)(t[e+c],t[r+c],p);return void(s.length=n)}a=e}}for(c=0;c<n;++c)s[c]=t[a+c];s.length=n}function _(t,e,r,n,o){var i=t[e],s=t[e+1];for(e+=n;e<r;e+=n){var a=t[e],h=t[e+1],u=(0,y.bI)(i,s,a,h);u>o&&(o=u),i=a,s=h}return o}function v(t,e,r,n,o){for(var i=0,s=r.length;i<s;++i){var a=r[i];o=_(t,e,a,n,o),e=a}return o}function C(t,e,r,n,o,i,s,a,h,u,l){if(e==r)return u;var f,p;if(0===o){if((p=(0,y.bI)(s,a,t[e],t[e+1]))<u){for(f=0;f<n;++f)h[f]=t[e+f];return h.length=n,p}return u}for(var c=l||[NaN,NaN],d=e+n;d<r;)if(g(t,d-n,d,n,s,a,c),(p=(0,y.bI)(s,a,c[0],c[1]))<u){for(u=p,f=0;f<n;++f)h[f]=c[f];h.length=n,d+=n}else d+=n*Math.max((Math.sqrt(p)-Math.sqrt(u))/o|0,1);if(i&&(g(t,r-n,e,n,s,a,c),(p=(0,y.bI)(s,a,c[0],c[1]))<u)){for(u=p,f=0;f<n;++f)h[f]=c[f];h.length=n}return u}function m(t,e,r,n,o,i,s,a,h,u,l){for(var f=l||[NaN,NaN],p=0,c=r.length;p<c;++p){var d=r[p];u=C(t,e,d,n,o,i,s,a,h,u,f),e=d}return u}function P(t,e,r,n){for(var o=0,i=r.length;o<i;++o)for(var s=r[o],a=0;a<n;++a)t[e++]=s[a];return e}function x(t,e,r,n,o){for(var i=o||[],s=0,a=0,h=r.length;a<h;++a){var u=P(t,e,r[a],n);i[s++]=u,e=u}return i.length=s,i}var T=r(2418),O=r(9682);function w(t,e,r,n,o){for(var i,s=[t[e],t[e+1]],a=[];e+n<r;e+=n){if(a[0]=t[e+n],a[1]=t[e+n+1],i=o(s,a))return i;s[0]=a[0],s[1]=a[1]}return!1}var E=r(6204);function F(t,e,r,n,o,i,s){var a,h,u=(r-e)/n;if(1===u)a=e;else if(2===u)a=e,h=o;else if(0!==u){for(var l=t[e],f=t[e+1],p=0,c=[0],d=e+n;d<r;d+=n){var g=t[d],_=t[d+1];p+=Math.sqrt((g-l)*(g-l)+(_-f)*(_-f)),c.push(p),l=g,f=_}var v=o*p,C=(0,O.ry)(c,v);C<0?(h=(v-c[-C-2])/(c[-C-1]-c[-C-2]),a=e+(-C-2)*n):a=e+C*n}var m=s>1?s:2,P=i||new Array(m);for(d=0;d<m;++d)P[d]=void 0===a?NaN:void 0===h?t[a+d]:(0,y.t7)(t[a+d],t[a+n+d],h);return P}function G(t,e,r,n,o,i){if(r==e)return null;var s;if(o<t[e+n-1])return i?((s=t.slice(e,e+n))[n-1]=o,s):null;if(t[r-1]<o)return i?((s=t.slice(r-n,r))[n-1]=o,s):null;if(o==t[e+n-1])return t.slice(e,e+n);for(var a=e/n,h=r/n;a<h;){var u=a+h>>1;o<t[(u+1)*n-1]?h=u:a=u+1}var l=t[a*n-1];if(o==l)return t.slice((a-1)*n,(a-1)*n+n);var f=(o-l)/(t[(a+1)*n-1]-l);s=[];for(var p=0;p<n-1;++p)s.push((0,y.t7)(t[(a-1)*n+p],t[a*n+p],f));return s.push(o),s}function M(t,e,r,n,o){return!(0,h.H6)(o,(function(o){return!L(t,e,r,n,o[0],o[1])}))}function L(t,e,r,n,o,i){for(var s=0,a=t[r-n],h=t[r-n+1];e<r;e+=n){var u=t[e],l=t[e+1];h<=i?l>i&&(u-a)*(i-h)-(o-a)*(l-h)>0&&s++:l<=i&&(u-a)*(i-h)-(o-a)*(l-h)<0&&s--,a=u,h=l}return 0!==s}function R(t,e,r,n,o,i){if(0===r.length)return!1;if(!L(t,e,r[0],n,o,i))return!1;for(var s=1,a=r.length;s<a;++s)if(L(t,r[s-1],r[s],n,o,i))return!1;return!0}function I(t,e,r,n,o){var i=(0,h.qP)((0,h.lJ)(),t,e,r,n);return!!(0,h.kK)(o,i)&&(!!(0,h.r4)(o,i)||i[0]>=o[0]&&i[2]<=o[2]||i[1]>=o[1]&&i[3]<=o[3]||w(t,e,r,n,(function(t,e){return(0,h.I7)(o,t,e)})))}function N(t,e,r,n,o){if(!function(t,e,r,n,o){return!!(I(t,e,r,n,o)||L(t,e,r,n,o[0],o[1])||L(t,e,r,n,o[0],o[3])||L(t,e,r,n,o[2],o[1])||L(t,e,r,n,o[2],o[3]))}(t,e,r[0],n,o))return!1;if(1===r.length)return!0;for(var i=1,s=r.length;i<s;++i)if(M(t,r[i-1],r[i],n,o)&&!I(t,r[i-1],r[i],n,o))return!1;return!0}var j=r(4027),Z=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const b=function(t){function e(e,r){var n=t.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?n.setCoordinates(e,r):n.setFlatCoordinates(r,e),n}return Z(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?(0,O.l7)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),C(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,r,n))},e.prototype.forEachSegment=function(t){return w(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=c.Z.XYM&&this.layout!=c.Z.XYZM)return null;var r=void 0!==e&&e;return G(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r)},e.prototype.getCoordinates=function(){return(0,E.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return F(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return(0,j.W)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=(0,T.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,c.Z.XY)},e.prototype.getType=function(){return a.Z.LINE_STRING},e.prototype.intersectsExtent=function(t){return I(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P(this.flatCoordinates,0,t,this.stride),this.changed()},e}(d.ZP);var Y=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const A=function(t){function e(e,r,n){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,r);else if(void 0!==r&&n)o.setFlatCoordinates(r,e),o.ends_=n;else{for(var i=o.getLayout(),s=e,a=[],h=[],u=0,l=s.length;u<l;++u){var f=s[u];0===u&&(i=f.getLayout()),(0,O.l7)(a,f.getFlatCoordinates()),h.push(a.length)}o.setFlatCoordinates(i,a),o.ends_=h}return o}return Y(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?(0,O.l7)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(v(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),m(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,r,n))},e.prototype.getCoordinateAtM=function(t,e,r){if(this.layout!=c.Z.XYM&&this.layout!=c.Z.XYZM||0===this.flatCoordinates.length)return null;var n=void 0!==e&&e,o=void 0!==r&&r;return function(t,e,r,n,o,i,s){if(s)return G(t,e,r[r.length-1],n,o,i);var a;if(o<t[n-1])return i?((a=t.slice(0,n))[n-1]=o,a):null;if(t[t.length-1]<o)return i?((a=t.slice(t.length-n))[n-1]=o,a):null;for(var h=0,u=r.length;h<u;++h){var l=r[h];if(e!=l){if(o<t[e+n-1])return null;if(o<=t[l-1])return G(t,e,l,n,o,!1);e=l}}return null}(this.flatCoordinates,0,this.ends_,this.stride,t,n,o)},e.prototype.getCoordinates=function(){return(0,E.o1)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new b(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,r=this.layout,n=[],o=0,i=0,s=e.length;i<s;++i){var a=e[i],h=new b(t.slice(o,a),r);n.push(h),o=a}return n},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,r=0,n=this.ends_,o=this.stride,i=0,s=n.length;i<s;++i){var a=n[i],h=F(e,r,a,o,.5);(0,O.l7)(t,h),r=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=(0,T.UJ)(this.flatCoordinates,0,this.ends_,this.stride,t,r,0,n),new e(r,c.Z.XY,n)},e.prototype.getType=function(){return a.Z.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return function(t,e,r,n,o){for(var i=0,s=r.length;i<s;++i){if(I(t,e,r[i],n,o))return!0;e=r[i]}return!1}(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=x(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(d.ZP);var S=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const X=function(t){function e(e,r){var n=t.call(this)||this;return n.setCoordinates(e,r),n}return S(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,n){var o=this.flatCoordinates,i=(0,y.bI)(t,e,o[0],o[1]);if(i<n){for(var s=this.stride,a=0;a<s;++a)r[a]=o[a];return r.length=s,i}return n},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return(0,h.HK)(this.flatCoordinates,t)},e.prototype.getType=function(){return a.Z.POINT},e.prototype.intersectsExtent=function(t){return(0,h.jE)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(t,e,r,n){for(var o=0,i=r.length;o<i;++o)t[e++]=r[o];return e}(this.flatCoordinates,0,t,this.stride),this.changed()},e}(d.ZP);var k=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const D=function(t){function e(e,r){var n=t.call(this)||this;return r&&!Array.isArray(e[0])?n.setFlatCoordinates(r,e):n.setCoordinates(e,r),n}return k(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?(0,O.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,n){if(n<(0,h.qf)(this.getExtent(),t,e))return n;for(var o=this.flatCoordinates,i=this.stride,s=0,a=o.length;s<a;s+=i){var u=(0,y.bI)(t,e,o[s],o[s+1]);if(u<n){n=u;for(var l=0;l<i;++l)r[l]=o[s+l];r.length=i}}return n},e.prototype.getCoordinates=function(){return(0,E.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new X(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,n=[],o=0,i=t.length;o<i;o+=r){var s=new X(t.slice(o,o+r),e);n.push(s)}return n},e.prototype.getType=function(){return a.Z.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,r=this.stride,n=0,o=e.length;n<o;n+=r){var i=e[n],s=e[n+1];if((0,h.jE)(t,i,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P(this.flatCoordinates,0,t,this.stride),this.changed()},e}(d.ZP);function q(t,e,r,n){for(var o=0,i=t[r-n],s=t[r-n+1];e<r;e+=n){var a=t[e],h=t[e+1];o+=s*a-i*h,i=a,s=h}return o/2}function U(t,e,r,n){for(var o=0,i=0,s=r.length;i<s;++i){var a=r[i];o+=q(t,e,a,n),e=a}return o}var K=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const W=function(t){function e(e,r){var n=t.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===r||Array.isArray(e[0])?n.setCoordinates(e,r):n.setFlatCoordinates(r,e),n}return K(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),C(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.getArea=function(){return q(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return(0,E.Ml)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[];return r.length=(0,T.dt)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,r,0),new e(r,c.Z.XY)},e.prototype.getType=function(){return a.Z.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=P(this.flatCoordinates,0,t,this.stride),this.changed()},e}(d.ZP);function H(t,e,r,n,o,i,s){for(var a,h,u,l,f,p,c,d=o[i+1],y=[],g=0,_=r.length;g<_;++g){var v=r[g];for(l=t[v-n],p=t[v-n+1],a=e;a<v;a+=n)f=t[a],c=t[a+1],(d<=p&&c<=d||p<=d&&d<=c)&&(u=(d-p)/(c-p)*(f-l)+l,y.push(u)),l=f,p=c}var C=NaN,m=-1/0;for(y.sort(O.kK),l=y[0],a=1,h=y.length;a<h;++a){f=y[a];var P=Math.abs(f-l);P>m&&R(t,e,r,n,u=(l+f)/2,d)&&(C=u,m=P),l=f}return isNaN(C)&&(C=o[i]),s?(s.push(C,d,m),s):[C,d,m]}function J(t,e,r,n){for(;e<r-n;){for(var o=0;o<n;++o){var i=t[e+o];t[e+o]=t[r-n+o],t[r-n+o]=i}e+=n,r-=n}}function z(t,e,r,n){for(var o=0,i=t[r-n],s=t[r-n+1];e<r;e+=n){var a=t[e],h=t[e+1];o+=(a-i)*(h+s),i=a,s=h}return 0===o?void 0:o>0}function B(t,e,r,n,o){for(var i=void 0!==o&&o,s=0,a=r.length;s<a;++s){var h=r[s],u=z(t,e,h,n);if(0===s){if(i&&u||!i&&!u)return!1}else if(i&&!u||!i&&u)return!1;e=h}return!0}function Q(t,e,r,n,o){for(var i=void 0!==o&&o,s=0,a=r.length;s<a;++s){var h=r[s],u=z(t,e,h,n);(0===s?i&&u||!i&&!u:i&&!u||!i&&u)&&J(t,e,h,n),e=h}return e}function V(t,e,r,n,o){for(var i=0,s=r.length;i<s;++i)e=Q(t,e,r[i],n,o);return e}var $=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const tt=function(t){function e(e,r,n){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==r&&n?(o.setFlatCoordinates(r,e),o.ends_=n):o.setCoordinates(e,r),o}return $(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?(0,O.l7)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(v(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),m(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,r,n))},e.prototype.containsXY=function(t,e){return R(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return U(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?Q(e=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,t):e=this.flatCoordinates,(0,E.o1)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,h.qg)(this.getExtent());this.flatInteriorPoint_=H(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new X(this.getFlatInteriorPoint(),c.Z.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new W(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.ends_,n=[],o=0,i=0,s=r.length;i<s;++i){var a=r[i],h=new W(e.slice(o,a),t);n.push(h),o=a}return n},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;B(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Q(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=(0,T.Zh)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),r,0,n),new e(r,c.Z.XY,n)},e.prototype.getType=function(){return a.Z.POLYGON},e.prototype.intersectsExtent=function(t){return N(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var r=x(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===r.length?0:r[r.length-1],this.changed()},e}(d.ZP);var et=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();const rt=function(t){function e(e,r,n){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!n&&!Array.isArray(e[0])){for(var i=o.getLayout(),s=e,a=[],h=[],u=0,l=s.length;u<l;++u){var f=s[u];0===u&&(i=f.getLayout());for(var p=a.length,c=f.getEnds(),d=0,y=c.length;d<y;++d)c[d]+=p;(0,O.l7)(a,f.getFlatCoordinates()),h.push(c)}r=i,e=a,n=h}return void 0!==r&&n?(o.setFlatCoordinates(r,e),o.endss_=n):o.setCoordinates(e,r),o}return et(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var r=this.flatCoordinates.length;(0,O.l7)(this.flatCoordinates,t.getFlatCoordinates());for(var n=0,o=(e=t.getEnds().slice()).length;n<o;++n)e[n]+=r}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,r=new Array(t),n=0;n<t;++n)r[n]=this.endss_[n].slice();var o=new e(this.flatCoordinates.slice(),this.layout,r);return o.applyProperties(this),o},e.prototype.closestPointXY=function(t,e,r,n){return n<(0,h.qf)(this.getExtent(),t,e)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(function(t,e,r,n,o){for(var i=0,s=r.length;i<s;++i){var a=r[i];o=v(t,e,a,n,o),e=a[a.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),function(t,e,r,n,o,i,s,a,h,u,l){for(var f=[NaN,NaN],p=0,c=r.length;p<c;++p){var d=r[p];u=m(t,e,d,n,o,true,s,a,h,u,f),e=d[d.length-1]}return u}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,0,t,e,r,n))},e.prototype.containsXY=function(t,e){return function(t,e,r,n,o,i){if(0===r.length)return!1;for(var s=0,a=r.length;s<a;++s){var h=r[s];if(R(t,e,h,n,o,i))return!0;e=h[h.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return function(t,e,r,n){for(var o=0,i=0,s=r.length;i<s;++i){var a=r[i];o+=U(t,e,a,n),e=a[a.length-1]}return o}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?V(e=this.getOrientedFlatCoordinates().slice(),0,this.endss_,this.stride,t):e=this.flatCoordinates,(0,E.ug)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,r,n){for(var o=[],i=(0,h.lJ)(),s=0,a=r.length;s<a;++s){var u=r[s];i=(0,h.GN)(t,e,u[0],n),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=u[u.length-1]}return o}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=function(t,e,r,n,o){for(var i=[],s=0,a=r.length;s<a;++s){var h=r[s];i=H(t,e,h,n,o,2*s,i),e=h[h.length-1]}return i}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new D(this.getFlatInteriorPoints().slice(),c.Z.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;!function(t,e,r,n,o){for(var i=0,s=r.length;i<s;++i){var a=r[i];if(!B(t,e,a,n,undefined))return!1;a.length&&(e=a[a.length-1])}return!0}(t,0,this.endss_,this.stride)?(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=V(this.orientedFlatCoordinates_,0,this.endss_,this.stride)):this.orientedFlatCoordinates_=t,this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var r=[],n=[];return r.length=(0,T.Pp)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),r,0,n),new e(r,c.Z.XY,n)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var r=this.endss_[t-1];e=r[r.length-1]}var n=this.endss_[t].slice(),o=n[n.length-1];if(0!==e)for(var i=0,s=n.length;i<s;++i)n[i]-=e;return new tt(this.flatCoordinates.slice(e,o),this.layout,n)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,r=this.endss_,n=[],o=0,i=0,s=r.length;i<s;++i){var a=r[i].slice(),h=a[a.length-1];if(0!==o)for(var u=0,l=a.length;u<l;++u)a[u]-=o;var f=new tt(e.slice(o,h),t,a);n.push(f),o=h}return n},e.prototype.getType=function(){return a.Z.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return function(t,e,r,n,o){for(var i=0,s=r.length;i<s;++i){var a=r[i];if(N(t,e,a,n,o))return!0;e=a[a.length-1]}return!1}(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var r=function(t,e,r,n,o){for(var i=o||[],s=0,a=0,h=r.length;a<h;++a){var u=x(t,e,r[a],n,i[s]);i[s++]=u,e=u[u.length-1]}return i.length=s,i}(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===r.length)this.flatCoordinates.length=0;else{var n=r[r.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},e}(d.ZP);var nt=r(868),ot=r(9179),it=r(3580),st=r(7235);const at=function(){function t(){this.dataProjection=null,this.defaultFeatureProjection=null}return t.prototype.getReadOptions=function(t,e){var r;if(e){var n=e.dataProjection?(0,st.U2)(e.dataProjection):this.readProjection(t);e.extent&&n&&n.getUnits()===nt.Z.TILE_PIXELS&&(n=(0,st.U2)(n)).setWorldExtent(e.extent),r={dataProjection:n,featureProjection:e.featureProjection}}return this.adaptOptions(r)},t.prototype.adaptOptions=function(t){return(0,it.f0)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return(0,ot.O3)()},t.prototype.readFeature=function(t,e){return(0,ot.O3)()},t.prototype.readFeatures=function(t,e){return(0,ot.O3)()},t.prototype.readGeometry=function(t,e){return(0,ot.O3)()},t.prototype.readProjection=function(t){return(0,ot.O3)()},t.prototype.writeFeature=function(t,e){return(0,ot.O3)()},t.prototype.writeFeatures=function(t,e){return(0,ot.O3)()},t.prototype.writeGeometry=function(t,e){return(0,ot.O3)()},t}();function ht(t,e,r){var n,o=r?(0,st.U2)(r.featureProjection):null,i=r?(0,st.U2)(r.dataProjection):null;if(n=o&&i&&!(0,st.OP)(o,i)?(e?t.clone():t).transform(e?o:i,e?i:o):t,e&&r&&void 0!==r.decimals){var s=Math.pow(10,r.decimals);n===t&&(n=t.clone()),n.applyTransform((function(t){for(var e=0,r=t.length;e<r;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return n}var ut=r(4007),lt=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function ft(t){return"string"==typeof t?t:""}const pt=function(t){function e(){return t.call(this)||this}return lt(e,t),e.prototype.getType=function(){return ut.Z.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(ft(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return(0,ot.O3)()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(ft(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return(0,ot.O3)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(ft(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return(0,ot.O3)()},e.prototype.readProjection=function(t){return this.readProjectionFromText(ft(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return(0,ot.O3)()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return(0,ot.O3)()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return(0,ot.O3)()},e}(at);var ct=function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),dt={POINT:X,LINESTRING:b,POLYGON:tt,MULTIPOINT:D,MULTILINESTRING:A,MULTIPOLYGON:rt},yt="EMPTY",gt={};for(var _t in a.Z)gt[_t]=a.Z[_t].toUpperCase();var vt=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){return t>="0"&&t<="9"||"."==t&&!(void 0!==e&&e)},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),r=this.index_,n=e;if("("==e)t=2;else if(","==e)t=5;else if(")"==e)t=3;else if(this.isNumeric_(e)||"-"==e)t=4,n=this.readNumber_();else if(this.isAlpha_(e))t=1,n=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=6}return{position:r,value:n,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,r=!1,n=!1;do{"."==t?r=!0:"e"!=t&&"E"!=t||(n=!0),t=this.nextChar_()}while(this.isNumeric_(t,r)||!n&&("e"==t||"E"==t)||n&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),Ct=function(){function t(t){this.lexer_=t,this.token_,this.layout_=c.Z.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=c.Z.XY,e=this.token_;if(this.isTokenType(1)){var r=e.value;"Z"===r?t=c.Z.XYZ:"M"===r?t=c.Z.XYM:"ZM"===r&&(t=c.Z.XYZM),t!==c.Z.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(2)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(5));if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(2)){var t=this.parsePoint_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(2)){var t=this.parsePointList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(2)){var t=this.parseLineStringTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(2)){var t;if(t=2==this.token_.type?this.parsePointTextList_():this.parsePointList_(),this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(2)){var t=this.parseLineStringTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(2)){var t=this.parsePolygonTextList_();if(this.match(3))return t}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,r=0;r<e;++r){var n=this.token_;if(!this.match(4))break;t.push(n.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){for(var t=[this.parsePoint_()];this.match(5);)t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){for(var t=[this.parsePointText_()];this.match(5);)t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){for(var t=[this.parseLineStringText_()];this.match(5);)t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){for(var t=[this.parsePolygonText_()];this.match(5);)t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(1)&&this.token_.value==yt;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(1)){var e=t.value;if(this.layout_=this.parseGeometryLayout_(),"GEOMETRYCOLLECTION"==e){var r=this.parseGeometryCollectionText_();return new p(r)}var n=dt[e];if(!n)throw new Error("Invalid geometry type: "+e);var o=void 0;switch(e){case"POINT":o=this.parsePointText_();break;case"LINESTRING":o=this.parseLineStringText_();break;case"POLYGON":o=this.parsePolygonText_();break;case"MULTIPOINT":o=this.parseMultiPointText_();break;case"MULTILINESTRING":o=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":o=this.parseMultiPolygonText_();break;default:throw new Error("Invalid geometry type: "+e)}return o||(o=n===dt.POINT?[NaN,NaN]:[]),new n(o,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),mt=function(t){function e(e){var r=t.call(this)||this,n=e||{};return r.splitCollection_=void 0!==n.splitCollection&&n.splitCollection,r}return ct(e,t),e.prototype.parse_=function(t){var e=new vt(t);return new Ct(e).parse()},e.prototype.readFeatureFromText=function(t,e){var r=this.readGeometryFromText(t,e);if(r){var n=new o.Z;return n.setGeometry(r),n}return null},e.prototype.readFeaturesFromText=function(t,e){for(var r,n=this.readGeometryFromText(t,e),i=[],s=0,h=(r=this.splitCollection_&&n.getType()==a.Z.GEOMETRY_COLLECTION?n.getGeometriesArray():[n]).length;s<h;++s){var u=new o.Z;u.setGeometry(r[s]),i.push(u)}return i},e.prototype.readGeometryFromText=function(t,e){var r=this.parse_(t);return r?ht(r,!1,e):null},e.prototype.writeFeatureText=function(t,e){var r=t.getGeometry();return r?this.writeGeometryText(r,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var r=[],n=0,o=t.length;n<o;++n)r.push(t[n].getGeometry());var i=new p(r);return this.writeGeometryText(i,e)},e.prototype.writeGeometryText=function(t,e){return wt(ht(t,!0,e))},e}(pt);function Pt(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function xt(t){for(var e=t.getCoordinates(),r=[],n=0,o=e.length;n<o;++n)r.push(e[n].join(" "));return r.join(",")}function Tt(t){for(var e=[],r=t.getLinearRings(),n=0,o=r.length;n<o;++n)e.push("("+xt(r[n])+")");return e.join(",")}var Ot={Point:Pt,LineString:xt,Polygon:Tt,MultiPoint:function(t){for(var e=[],r=t.getPoints(),n=0,o=r.length;n<o;++n)e.push("("+Pt(r[n])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],r=t.getLineStrings(),n=0,o=r.length;n<o;++n)e.push("("+xt(r[n])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],r=t.getPolygons(),n=0,o=r.length;n<o;++n)e.push("("+Tt(r[n])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],r=t.getGeometries(),n=0,o=r.length;n<o;++n)e.push(wt(r[n]));return e.join(",")}};function wt(t){var e=t.getType(),r=(0,Ot[e])(t);if(e=e.toUpperCase(),"function"==typeof t.getFlatCoordinates){var n=function(t){var e=t.getLayout(),r="";return e!==c.Z.XYZ&&e!==c.Z.XYZM||(r+="Z"),e!==c.Z.XYM&&e!==c.Z.XYZM||(r+="M"),r}(t);n.length>0&&(e+=" "+n)}return 0===r.length?e+" "+yt:e+"("+r+")"}const Et=mt}}]);